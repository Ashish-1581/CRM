<div class="manager-leads">
  <!-- Header -->
  <div class="header">
    <h2>Leads (Manager)</h2>
    <button class="add-lead-btn" (click)="addLead()">+ Add Lead</button>
  </div>

  <!-- Filters -->
  <form [formGroup]="filterForm" class="filters">
    <input formControlName="q" placeholder="Search name/email" />
    <select formControlName="status">
      <option value="">All status</option>
      <option>Prospect</option>
      <option>Qualified</option>
      <option>Won</option>
      <option>Lost</option>
    </select>
    <select formControlName="region">
      <option value="">All region</option>
      <option>APAC</option>
      <option>EMEA</option>
      <option>AMER</option>
    </select>
    <select formControlName="priority">
      <option value="">Any priority</option>
      <option>High</option>
      <option>Medium</option>
      <option>Low</option>
    </select>
  </form>

  <!-- Leads List -->
  <div *ngIf="leads$ | async as list; else noLeads" class="leads">
    <div *ngFor="let l of list" class="lead-card">
      <div class="lead-header">
        <b>{{ l.name }}</b>
      </div>
      <div class="lead-meta">
     <div >
        <span>Status: {{ l.status || "—" }}</span> •
      <span>Priority: {{ l.priority || "—" }}</span> • 
      <span>Region: {{ l.region || "—" }}</span>
    </div>
      </div>
      <div class="lead-contact">
        <small>{{ l.email }} • {{ l.product }}</small>
      </div>
      <div class="lead-footer">
        <a [routerLink]="['/leads', l.id]">Update</a>
        <button (click)="deleteLead(l.id)" class="delete-btn">Delete</button>
      </div>
    </div>
  </div>

  <ng-template #noLeads>
    <p>No leads found.</p>
  </ng-template>
</div>